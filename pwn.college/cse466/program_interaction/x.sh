#!/bin/bash
# var=$'\0'
# ln -s /challenge/$HOSTNAME ~/cphbqa
# BASH_ARGV0="/tmp/pqtzvn"
# env -i PATH=cphbqa
# bash -c 'exec ./a.out'
# mkfifo /tmp/fif
# mkfifo /tmp/fif2
# echo test < /tmp/fif


# 93
# mkfifo /tmp/fif
# touch /tmp/file
# exec 2<> /tmp/file
# echo tlhktiys > /proc/self/fd/2
# /challenge/$HOSTNAME < /proc/self/fd/1
# exec 100<> /tmp/fif
# exec 101<> /tmp/fif2

# mkfifo /tmp/fif
# mkfifo /tmp/fif2
# (./a.out < /tmp/fif > /tmp/fif2) &
# touch /tmp/file
# exec 80<> /tmp/file
# echo thpuujve > /proc/self/fd/80
# ./a.out < /proc/self/fd/80
# exec 101<> /tmp/fif2

# echo eiwefqbn > /tmp/fif & cat /tmp/fif2
 

# timeout 1 cat /proc/self/fd/101 | grep -P 'for: \d+' | grep -oP '\d+' > /proc/self/fd/100

# cat /proc/self/fd/101

# python3 x.py




# ./a.out

# 97
 
# & kill -s 2 $(pidof /challenge/$HOSTNAME)

# ps -C /challenge/$HOSTNAME

# 125 
# /challenge/$HOSTNAME

# bash -c 'exec python sub.py'
# mkfifo /tmp/fif
# mkfifo /tmp/fif2
# /challenge/$HOSTNAME < /tmp/fif > /tmp/fif2

# exec 100<> /tmp/fif

# exec 101<> /tmp/fif2
 
# # y=$((x+2))



# c='cat <<EOF
# print(122)
# EOF'

# timeout 1 cat /proc/self/fd/101 | grep -P 'for: *' | grep -o '(.*)' > /proc/self/fd/100
# /challenge/$HOSTNAME
# exec nc localhost 1777

# exec 3<>/dev/tcp/localhost/1777
# for i in 1 2 3 4 5
# do
#     read -u 3 -d ': '
#     read -u 3 -r num
#     echo $num
#     python3 -c 'import sys;e=sys.argv[1];print(eval(e))' ${num// /} >&3
# done
# while read -u 3 -r pwn
# do
#     echo $pwn
# done

# while read -u 3 -r line
# do
#         echo $line
#         cat 100 >&3


        # python3 -c 'import sys;e=sys.argv[1];print(eval(e.replace(e[0:48],"")))' $line >&3
# done



# $ echo -ne $MESSAGE >&3
# $ printf $MESSAGE >&3
# echo "request" 1 >&3
# response="$(bash -c 'cat <&3')"
# echo $response
# python -c 'import os; print(os.system("cat /proc/self/fd/101"))'

# # | grep -oP '\d+' > /proc/self/fd/100

# cat /proc/self/fd/101


# 139
# cat | ./a.out | cat -


exec 5< /
cat e.bin | /challenge/$HOSTNAME


